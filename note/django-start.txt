workon venv

・プロジェクト生成
django-admin.py startproject [project_name]

・データベース接続設定 [project_name]/settings.py
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.mysql',
        'NAME': 'keibadb',
        'USER': 'root',
        'PASSWORD':'password01',
        'HOST':'',
    }
}

・スーパーユーザー作成
python3 manage.py createsuperuser

・起動
python3 manage.py runserver 0.0.0.0:8000

・アプリケーション生成
python manage.py startapp [app_name]


pip3 install mysqlclient
pip3 install PyMySQL


# index 張り替えエラー
# show create table sampling_uma_kihon;
# ALTER TABLE sampling_uma_kihon DROP INDEX sampling_uma_kihon_race_key_611e748c_uniq;

drop table sampling_bangumi;
drop table sampling_kishu_sabun;
drop table sampling_kyousouba;
drop table sampling_kyousouba_extend;
drop table sampling_tyokuzen;
drop table sampling_uma_kihon;
drop table sampling_zensou;
delete from django_migrations where app='sampling';


truncate table sampling_bangumi;
truncate table sampling_kishu_sabun;
truncate table sampling_kyousouba;
truncate table sampling_kyousouba_extend;
truncate table sampling_chokuzen;
truncate table sampling_uma_kihon;
truncate table sampling_zensou;


select
(select count(*) from sampling_bangumi) AS bangumi
,(select count(*) from sampling_kishu_sabun) AS kishu_sabun
,(select count(*) from sampling_kyousouba) AS kyousouba
,(select count(*) from sampling_kyousouba_extend) AS kyousouba_extend
,(select count(*) from sampling_chokuzen) AS chokuzen
,(select count(*) from sampling_uma_kihon) AS uma_kihon
,(select count(*) from sampling_zensou) AS zensou;
